# ë¬¸ì„œ í¬í„¸ íŒŒì¼ëŸ¿ í”„ë¡œì íŠ¸ ê°€ì´ë“œ

## ğŸ¯ ê°œìš”

Freshdesk FAQ > Ticketing Workflow í´ë” (97ê±´) ë¬¸ì„œë¡œ íŒŒì¼ëŸ¿ í…ŒìŠ¤íŠ¸ ì§„í–‰

**ëª©í‘œ:**
- Supabase ë²¡í„° ê²€ìƒ‰ ì‹œìŠ¤í…œ ê²€ì¦
- Claude ë²ˆì—­ íŒŒì´í”„ë¼ì¸ ê²€ì¦
- ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê²€ì¦

---

## ğŸ“‹ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

### 1. API í‚¤ ì¤€ë¹„
- âœ… **Supabase í”„ë¡œì íŠ¸** - https://supabase.com/dashboard
- âœ… **Anthropic API í‚¤** - https://console.anthropic.com/
- âœ… **OpenAI API í‚¤** - https://platform.openai.com/api-keys

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env.local íŒŒì¼ ìƒì„± (í”„ë¡œì íŠ¸ ë£¨íŠ¸)
cp .env.local.example .env.local
```

```.env
# Supabase (https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbG...your-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbG...your-service-role-key

# AI APIs
ANTHROPIC_API_KEY=sk-ant-api03-...your-key
OPENAI_API_KEY=sk-...your-key
```

### 3. Dependencies ì„¤ì¹˜

```bash
npm install
```

---

## ğŸš€ ì‹¤í–‰ ë‹¨ê³„

### Phase 1: Supabase ì„¤ì • (ìˆ˜ë™, 15ë¶„)

#### 1-1. Supabase í”„ë¡œì íŠ¸ ìƒì„±

1. https://supabase.com/dashboard ì ‘ì†
2. **New Project** í´ë¦­
3. í”„ë¡œì íŠ¸ ì„¤ì •:
   - Name: `wedosoft-docs-portal`
   - Database Password: ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
   - Region: **Northeast Asia (Seoul)**
   - Pricing Plan: **Free** ì„ íƒ
4. **Create new project** í´ë¦­

#### 1-2. DB ìŠ¤í‚¤ë§ˆ ì‹¤í–‰

1. Supabase Dashboard â†’ **SQL Editor** ë©”ë‰´
2. **New query** í´ë¦­
3. `supabase/schema.sql` íŒŒì¼ ë‚´ìš© ì „ì²´ ë³µì‚¬
4. SQL Editorì— ë¶™ì—¬ë„£ê¸°
5. **Run** ë²„íŠ¼ í´ë¦­

**ì˜ˆìƒ ê²°ê³¼:**
```
Success. No rows returned
```

#### 1-3. pgvector í™•ì¥ í™•ì¸

SQL Editorì—ì„œ ì‹¤í–‰:
```sql
SELECT * FROM pg_extension WHERE extname = 'vector';
```

**ì˜ˆìƒ ê²°ê³¼:**
```
extname | vector
```

---

### Phase 2: íŒŒì¼ëŸ¿ ë°ì´í„° ì¶”ì¶œ (ìë™, 1ë¶„)

```bash
npm run pilot:extract
```

**ì˜ˆìƒ ì¶œë ¥:**
```
ğŸš€ íŒŒì¼ëŸ¿ ë°ì´í„° ì¶”ì¶œ ì‹œì‘...
ğŸ“Š ì „ì²´ ë¬¸ì„œ: 1221ê±´
âœ“ [196643] What is the size limit for attachments...
âœ“ [196889] I want to insert a footer...
...
âœ… íŒŒì¼ëŸ¿ ë°ì´í„°: 97ê±´
ğŸ“ Category: Freshdesk FAQ (freshdesk-faq)
ğŸ“‚ Folder: Ticketing Workflow (ticketing-workflow)
ğŸ’¾ íŒŒì¼ëŸ¿ CSV ì €ì¥: data/pilot/pilot-data.csv
ğŸ‰ ì¶”ì¶œ ì™„ë£Œ!
```

---

### Phase 3: Supabase ì„í¬íŠ¸ (ìë™, 2ë¶„)

```bash
npm run pilot:import
```

**ì˜ˆìƒ ì¶œë ¥:**
```
ğŸš€ Supabase ì„í¬íŠ¸ ì‹œì‘...
ğŸ“Š 97ê±´ ì„í¬íŠ¸ ì¤€ë¹„
âœ… Category: Freshdesk FAQ (id: uuid-...)
âœ… Folder: Ticketing Workflow (id: uuid-...)
âœ… [196643] What is the size limit for attachments...
âœ… [196889] I want to insert a footer...
...
============================================================
ğŸ“Š ì„í¬íŠ¸ ì™„ë£Œ í†µê³„:
âœ… ì„±ê³µ: 97ê±´
âŒ ì‹¤íŒ¨: 0ê±´
ğŸ“Š ì„±ê³µë¥ : 100.0%
ğŸ‰ Supabase ì„í¬íŠ¸ ì™„ë£Œ!
```

---

### Phase 4: ë¬¸ì„œ ë²ˆì—­ (ìë™, 30-40ë¶„)

```bash
npm run pilot:translate
```

**ì˜ˆìƒ ì¶œë ¥:**
```
ğŸš€ ë¬¸ì„œ ë²ˆì—­ ì‹œì‘...
ğŸ“¥ ë¯¸ë²ˆì—­ ë¬¸ì„œ ì¡°íšŒ ì¤‘...
ğŸ“Š ë²ˆì—­ ëŒ€ìƒ: 97ê±´
ğŸ”„ ë²ˆì—­ ì§„í–‰ ì¤‘... (ë™ì‹œ 5ê°œ)

âœ… [1/97] [196643] í‹°ì¼“ ë‹µë³€ì— ì²¨ë¶€í•  ìˆ˜ ìˆëŠ” íŒŒì¼ í¬ê¸° ì œí•œì€ ë¬´ì—‡ì¸ê°€ìš”?
âœ… [2/97] [196889] ëª¨ë“  ë‹µë³€ì— í‘¸í„°ë¥¼ ì‚½ì…í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?
...
ğŸ“Š ì§„í–‰ë¥ : 50.0% (49/97)
...
============================================================
ğŸ“Š ë²ˆì—­ ì™„ë£Œ í†µê³„:
âœ… ì„±ê³µ: 97ê±´
âŒ ì‹¤íŒ¨: 0ê±´
ğŸ“Š ì„±ê³µë¥ : 100.0%
ğŸ’° ì˜ˆìƒ ë¹„ìš©: ~$0.29
ğŸ‰ ë²ˆì—­ ì™„ë£Œ!
```

**ì˜ˆìƒ ì†Œìš”:**
- ì‹œê°„: 30-40ë¶„
- ë¹„ìš©: ~$0.29 (Claude 3.5 Sonnet)

---

### Phase 5: ë²¡í„° ì„ë² ë”© ìƒì„± (ìë™, 5-10ë¶„)

```bash
npm run pilot:embeddings
```

**ì˜ˆìƒ ì¶œë ¥:**
```
ğŸš€ ë²¡í„° ì„ë² ë”© ìƒì„± ì‹œì‘...
ğŸ“¥ ë²ˆì—­ ì™„ë£Œëœ ë¬¸ì„œ ì¡°íšŒ ì¤‘...
ğŸ“Š ì„ë² ë”© ìƒì„± ëŒ€ìƒ: 97ê±´
ğŸ”„ ì„ë² ë”© ìƒì„± ì¤‘... (ë™ì‹œ 10ê°œ)

âœ… [1/97] [196643] í‹°ì¼“ ë‹µë³€ì— ì²¨ë¶€í•  ìˆ˜ ìˆëŠ” íŒŒì¼ í¬ê¸° ì œí•œì€ ë¬´ì—‡ì¸ê°€ìš”?
...
ğŸ“Š ì§„í–‰ë¥ : 50.0% (49/97)
...
============================================================
ğŸ“Š ì„ë² ë”© ìƒì„± ì™„ë£Œ í†µê³„:
âœ… ì„±ê³µ: 97ê±´
âŒ ì‹¤íŒ¨: 0ê±´
ğŸ“Š ì„±ê³µë¥ : 100.0%
ğŸ’° ì˜ˆìƒ ë¹„ìš©: ~$0.0011 (53,350 tokens)
ğŸ‰ ì„ë² ë”© ìƒì„± ì™„ë£Œ!
```

**ì˜ˆìƒ ì†Œìš”:**
- ì‹œê°„: 5-10ë¶„
- ë¹„ìš©: ~$0.001 (OpenAI text-embedding-3-small)

---

### Phase 6: í…ŒìŠ¤íŠ¸ & ê²€ì¦ (ìë™, 1ë¶„)

```bash
npm run pilot:test
```

**ì˜ˆìƒ ì¶œë ¥:**
```
ğŸ§ª íŒŒì¼ëŸ¿ í…ŒìŠ¤íŠ¸ ì‹œì‘...
============================================================

ğŸ“Š Test 1: ë¬¸ì„œ ìˆ˜ í™•ì¸
------------------------------------------------------------
âœ… PASS: ë¬¸ì„œ ìˆ˜ = 97ê±´ (ì˜ˆìƒ: ~97ê±´)

ğŸŒ Test 2: ë²ˆì—­ ì™„ë£Œìœ¨
------------------------------------------------------------
âœ… PASS: ë²ˆì—­ ì™„ë£Œìœ¨ = 100.0% (97/97ê±´)

ğŸ§¬ Test 3: ì„ë² ë”© ìƒì„±ìœ¨
------------------------------------------------------------
âœ… PASS: ì„ë² ë”© ìƒì„±ìœ¨ = 100.0% (97/97ê±´)

âœ¨ Test 4: ë²ˆì—­ í’ˆì§ˆ ìƒ˜í”Œ í™•ì¸
------------------------------------------------------------
ìƒ˜í”Œ ë²ˆì—­ (ì²« 3ê±´):

  [196643] í’ˆì§ˆ: 70%
  EN: What is the size limit for attachments to a ticket reply?
  KO: í‹°ì¼“ ë‹µë³€ì— ì²¨ë¶€í•  ìˆ˜ ìˆëŠ” íŒŒì¼ í¬ê¸° ì œí•œì€ ë¬´ì—‡ì¸ê°€ìš”?

  [196889] í’ˆì§ˆ: 70%
  EN: I want to insert a footer into all my replies. How do I do this?
  KO: ëª¨ë“  ë‹µë³€ì— í‘¸í„°ë¥¼ ì‚½ì…í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?

  [196897] í’ˆì§ˆ: 70%
  EN: What are tags? How can I add/merge tags?
  KO: íƒœê·¸ë€ ë¬´ì—‡ì¸ê°€ìš”? íƒœê·¸ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë³‘í•©í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?

âœ… PASS: ë²ˆì—­ ìƒ˜í”Œ í™•ì¸ ì™„ë£Œ

ğŸ” Test 5: ë²¡í„° ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
------------------------------------------------------------
ì¿¼ë¦¬: "í‹°ì¼“ ì²¨ë¶€íŒŒì¼ í¬ê¸° ì œí•œ"

ê²€ìƒ‰ ê²°ê³¼ (ìƒìœ„ 5ê±´):

1. í‹°ì¼“ ë‹µë³€ì— ì²¨ë¶€í•  ìˆ˜ ìˆëŠ” íŒŒì¼ í¬ê¸° ì œí•œì€ ë¬´ì—‡ì¸ê°€ìš”?
   ìœ ì‚¬ë„: 87.3%
   ê²½ë¡œ: /freshdesk/freshdesk-faq/ticketing-workflow/...

2. ì²¨ë¶€íŒŒì¼ ê´€ë ¨ ëª¨ë²” ì‚¬ë¡€
   ìœ ì‚¬ë„: 76.2%
   ê²½ë¡œ: /freshdesk/freshdesk-faq/ticketing-workflow/...

âœ… PASS: ë²¡í„° ê²€ìƒ‰ ì •ìƒ ë™ì‘

ğŸ—„ï¸  Test 6: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ê²€ì¦
------------------------------------------------------------
âœ… PASS: Categories í…Œì´ë¸” ì •ìƒ (1ê±´ ì´ìƒ)
âœ… PASS: Folders í…Œì´ë¸” ì •ìƒ (1ê±´ ì´ìƒ)
âœ… PASS: Documents í…Œì´ë¸” ì •ìƒ (97ê±´)

============================================================
ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½
============================================================
âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼!

ğŸ‰ íŒŒì¼ëŸ¿ êµ¬í˜„ ê²€ì¦ ì™„ë£Œ!

ë‹¤ìŒ ë‹¨ê³„:
  1. Next.js ë¬¸ì„œ í˜ì´ì§€ êµ¬í˜„
  2. ê²€ìƒ‰ API êµ¬í˜„
  3. ê°œë°œ ì„œë²„ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸
============================================================
```

---

## ğŸƒâ€â™‚ï¸ ë¹ ë¥¸ ì‹¤í–‰ (ëª¨ë“  ë‹¨ê³„ ìë™)

```bash
# Phase 2-6 í•œ ë²ˆì— ì‹¤í–‰ (Phase 1ì€ ìˆ˜ë™)
npm run pilot:all
```

**ì˜ˆìƒ ì†Œìš”:**
- ì‹œê°„: 40-50ë¶„
- ë¹„ìš©: ~$0.30

---

## ğŸ“Š ë¹„ìš© ìš”ì•½

| í•­ëª© | ë‹¨ê°€ | ìˆ˜ëŸ‰ | ì´ë¹„ìš© |
|------|------|------|--------|
| Claude 3.5 Sonnet (ë²ˆì—­) | $0.003/doc | 97ê±´ | $0.29 |
| OpenAI Embedding (ì„ë² ë”©) | $0.02/1M tokens | ~54K tokens | $0.001 |
| Supabase | ë¬´ë£Œ | - | $0.00 |
| **ì´ê³„** | | | **$0.29** |

---

## ğŸ” ë¬¸ì œ í•´ê²°

### í™˜ê²½ë³€ìˆ˜ ì—ëŸ¬

```bash
âŒ Supabase í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
```

**í•´ê²°:** `.env.local` íŒŒì¼ì´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸

---

### Supabase ì—°ê²° ì—ëŸ¬

```bash
âŒ ë¬¸ì„œ ì¡°íšŒ ì‹¤íŒ¨: Invalid API key
```

**í•´ê²°:**
1. Supabase Dashboard â†’ Settings â†’ API
2. `service_role` í‚¤ ë³µì‚¬ (NOT `anon` í‚¤!)
3. `.env.local`ì— `SUPABASE_SERVICE_ROLE_KEY` ì—…ë°ì´íŠ¸

---

### pgvector ì—ëŸ¬

```bash
âŒ relation "documents" does not exist
```

**í•´ê²°:**
1. Supabase Dashboard â†’ SQL Editor
2. `supabase/schema.sql` ì¬ì‹¤í–‰
3. ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸ í›„ í•´ê²°

---

### ë²ˆì—­ ì‹¤íŒ¨

```bash
âŒ [196643] ë²ˆì—­ ì‹¤íŒ¨: Invalid API key
```

**í•´ê²°:**
1. Anthropic Consoleì—ì„œ API í‚¤ í™•ì¸
2. `.env.local`ì— `ANTHROPIC_API_KEY` ì—…ë°ì´íŠ¸
3. ìŠ¤í¬ë¦½íŠ¸ ì¬ì‹¤í–‰: `npm run pilot:translate`

---

### ì„ë² ë”© ìƒì„± ì‹¤íŒ¨

```bash
âŒ [196643] ì„ë² ë”© ìƒì„± ì‹¤íŒ¨: Incorrect API key
```

**í•´ê²°:**
1. OpenAI Platformì—ì„œ API í‚¤ í™•ì¸
2. `.env.local`ì— `OPENAI_API_KEY` ì—…ë°ì´íŠ¸
3. ìŠ¤í¬ë¦½íŠ¸ ì¬ì‹¤í–‰: `npm run pilot:embeddings`

---

## ğŸ“ ìƒì„±ë˜ëŠ” íŒŒì¼

```
homepage/
â”œâ”€â”€ .env.local                    # í™˜ê²½ë³€ìˆ˜ (ìƒì„± í•„ìš”, gitignoreë¨)
â”œâ”€â”€ data/
â”‚   â””â”€â”€ pilot/
â”‚       â””â”€â”€ pilot-data.csv        # ì¶”ì¶œëœ 97ê±´ CSV
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ schema.sql                # DB ìŠ¤í‚¤ë§ˆ
â””â”€â”€ scripts/
    â””â”€â”€ pilot/
        â”œâ”€â”€ 01-extract-pilot-data.ts
        â”œâ”€â”€ 02-import-to-supabase.ts
        â”œâ”€â”€ 03-translate-documents.ts
        â”œâ”€â”€ 04-generate-embeddings.ts
        â””â”€â”€ 05-test-pilot.ts
```

---

## âœ… ì„±ê³µ ê¸°ì¤€

- [x] 97ê±´ ë¬¸ì„œ Supabase ì„í¬íŠ¸ ì™„ë£Œ
- [x] 100% í•œêµ­ì–´ ë²ˆì—­ ì™„ë£Œ (í’ˆì§ˆ 70%+)
- [x] 100% ë²¡í„° ì„ë² ë”© ìƒì„± ì™„ë£Œ
- [x] ë²¡í„° ê²€ìƒ‰ ì •ìƒ ë™ì‘ (ìœ ì‚¬ë„ 60%+)
- [x] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼

---

## ğŸ”œ ë‹¤ìŒ ë‹¨ê³„

1. **Next.js ë¬¸ì„œ í˜ì´ì§€ êµ¬í˜„**
   - ë™ì  ë¼ìš°íŒ…: `/docs/[category]/[folder]/[slug]`
   - í”¼ë“œë°± ìœ„ì ¯
   - ì–¸ì–´ ì „í™˜ (EN/KO)

2. **ê²€ìƒ‰ API êµ¬í˜„**
   - í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (í‚¤ì›Œë“œ + ë²¡í„°)
   - AI ë‹µë³€ ìƒì„± (RAG)
   - ê²€ìƒ‰ ê²°ê³¼ ìºì‹±

3. **ë‚˜ë¨¸ì§€ Freshdesk ë¬¸ì„œ í™•ì¥**
   - 1,124ê±´ ì¶”ê°€ ë²ˆì—­ ë° ì„ë² ë”©

4. **Monday.com, Google Workspace ì¶”ê°€**
   - ì „ì²´ 7,000ê±´ ì™„ì„±

---

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒ ì •ë³´ì™€ í•¨ê»˜ ë¬¸ì˜:
- ì‹¤í–‰í•œ ëª…ë ¹ì–´
- ì—ëŸ¬ ë©”ì‹œì§€ ì „ì²´
- `.env.local` íŒŒì¼ ì„¤ì • ìƒíƒœ (API í‚¤ ì œì™¸)
